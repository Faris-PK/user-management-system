<%-include('../layouts/header.ejs')%>
<div class="limiter">
    <div class="container-login100" style="background-image: url('assets/user/images/bg-01.jpg');">
        <div class="wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54">
            <form class="login100-form validate-form" method="post" action="/register">
                <span class="login100-form-title p-b-49">
                    Signup
                </span>
                <% if (messages.error) { %>
                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <strong>Error!</strong> <%= messages.error %>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                <% } %>
                <% if (messages.success) { %>
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <strong>Success!</strong> <%= messages.success %>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                <% } %>
            
                <div class="wrap-input100 validate-input m-b-23" data-validate="Name is required">
                    <span class="label-input100">Name</span>
                    <input class="input100" type="text" name="name" id="name" placeholder="Enter your name" >
                    <span class="focus-input100" data-symbol="&#xf206;"></span>
                    <span class="error-message"></span> <!-- Error message container -->
                </div>
            
                <div class="wrap-input100 validate-input m-b-23" data-validate="Email is required">
                    <span class="label-input100">Email</span>
                    <input class="input100" type="email" name="email" id="email" placeholder="Enter your email" >
                    <span class="focus-input100" data-symbol="&#xf206;"></span>
                    <span class="error-message"></span> <!-- Error message container -->
                </div>
            
                <div class="wrap-input100 validate-input m-b-23" data-validate="Mobile is required">
                    <span class="label-input100">Mobile</span>
                    <input class="input100" type="tel" name="mobile" id="mobile" placeholder="Enter your mobile number" >
                    <span class="focus-input100" data-symbol="&#xf206;"></span>
                    <span class="error-message"></span> <!-- Error message container -->
                </div>
            
                <div class="wrap-input100 validate-input m-b-23" data-validate="Password is required">
                    <span class="label-input100">Password</span>
                    <input class="input100" type="password" name="password" id="password" placeholder="Enter your password" >
                    <span class="focus-input100" data-symbol="&#xf190;"></span>
                    <span class="error-message"></span> <!-- Error message container -->
                </div>
            
                <div class="container-login100-form-btn mt-5">
                    <div class="wrap-login100-form-btn">
                        <div class="login100-form-bgbtn"></div>
                        <button class="login100-form-btn" type="submit">
                            Register
                        </button>
                    </div>
                </div>
            
                <div class="txt1 text-center p-t-54 p-b-20">
                    <a href="/login" class="font-weight-bold">Back to Login</a>
                </div>
            </form>
            
        </div>
    </div>
</div>

<div id="dropDownSelect1"></div>
<style>
    .error-message {
        color: red;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var form = document.querySelector('.login100-form');

        form.addEventListener('submit', function (event) {
            var isValid = true;

            // Validate name
            var nameInput = document.getElementById('name');
            var nameErrorMessage = nameInput.parentNode.querySelector('.error-message');
            if (!nameInput.value.trim()) {
                nameErrorMessage.textContent = 'Name is required';
                isValid = false;
            } else {
                nameErrorMessage.textContent = '';
            }

            // Validate email
            var emailInput = document.getElementById('email');
            var emailErrorMessage = emailInput.parentNode.querySelector('.error-message');
            if (!emailInput.value.trim()) {
                emailErrorMessage.textContent = 'Email is required';
                isValid = false;
            } else {
                emailErrorMessage.textContent = '';
            }

            // Validate mobile
            var mobileInput = document.getElementById('mobile');
            var mobileErrorMessage = mobileInput.parentNode.querySelector('.error-message');
            if (!mobileInput.value.trim()) {
                mobileErrorMessage.textContent = 'Mobile is required';
                isValid = false;
            } else {
                mobileErrorMessage.textContent = '';
            }

            // Validate password
            var passwordInput = document.getElementById('password');
            var passwordErrorMessage = passwordInput.parentNode.querySelector('.error-message');
            if (!passwordInput.value.trim()) {
                passwordErrorMessage.textContent = 'Password is required';
                isValid = false;
            } else {
                passwordErrorMessage.textContent = '';
            }

            if (!isValid) {
                event.preventDefault(); // Prevent form submission if not valid
            }
        });
    });
</script>


<%-include('../layouts/footer.ejs')%>